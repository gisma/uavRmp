<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>UAV Mission Planning tool for autonomous monitoring flight tasks with respect to DSM/DEM, orthophoto data retrieval. — makeAP • uavRmp</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="UAV Mission Planning tool for autonomous monitoring flight tasks with respect to DSM/DEM, orthophoto data retrieval. — makeAP"><meta property="og:description" content="The basic idea is to provide an easy to use workflow for controlling rtf-UAVs for planning autonomous surveys to retrieve aerial data sets."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">uavRmp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/uavRmp_1.html">Unmanned Aerial Vehicle R based Mission Planning</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/gisma/uavRmp/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>UAV Mission Planning tool for autonomous monitoring flight tasks with respect to DSM/DEM, orthophoto data retrieval.</h1>
    <small class="dont-index">Source: <a href="https://github.com/gisma/uavRmp/blob/HEAD/R/makeAP.R" class="external-link"><code>R/makeAP.R</code></a></small>
    <div class="hidden name"><code>makeAP.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The basic idea is to provide an easy to use workflow for controlling rtf-UAVs for planning autonomous surveys to retrieve aerial data sets.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">makeAP</span><span class="op">(</span>
  projectDir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,
  locationName <span class="op">=</span> <span class="st">"flightArea"</span>,
  surveyArea <span class="op">=</span> <span class="cn">NULL</span>,
  flightAltitude <span class="op">=</span> <span class="fl">100</span>,
  launchAltitude <span class="op">=</span> <span class="cn">NULL</span>,
  followSurface <span class="op">=</span> <span class="cn">FALSE</span>,
  followSurfaceRes <span class="op">=</span> <span class="fl">25</span>,
  demFn <span class="op">=</span> <span class="cn">NULL</span>,
  altFilter <span class="op">=</span> <span class="fl">1</span>,
  horizonFilter <span class="op">=</span> <span class="fl">30</span>,
  flightPlanMode <span class="op">=</span> <span class="st">"track"</span>,
  useMP <span class="op">=</span> <span class="cn">FALSE</span>,
  presetFlightTask <span class="op">=</span> <span class="st">"remote"</span>,
  overlap <span class="op">=</span> <span class="fl">0.8</span>,
  maxSpeed <span class="op">=</span> <span class="fl">20</span>,
  maxFlightTime <span class="op">=</span> <span class="fl">10</span>,
  picRate <span class="op">=</span> <span class="fl">2</span>,
  windCondition <span class="op">=</span> <span class="fl">0</span>,
  uavType <span class="op">=</span> <span class="st">"pixhawk"</span>,
  cameraType <span class="op">=</span> <span class="st">"MAPIR2"</span>,
  cmd <span class="op">=</span> <span class="fl">16</span>,
  uavViewDir <span class="op">=</span> <span class="fl">0</span>,
  djiBasic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">90</span>, <span class="fl">0</span><span class="op">)</span>,
  dA <span class="op">=</span> <span class="cn">FALSE</span>,
  heatMap <span class="op">=</span> <span class="cn">FALSE</span>,
  picFootprint <span class="op">=</span> <span class="cn">FALSE</span>,
  rcRange <span class="op">=</span> <span class="cn">NULL</span>,
  copy <span class="op">=</span> <span class="cn">FALSE</span>,
  runDir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,
  gdalLink <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>projectDir</dt>
<dd><p><code>character</code> path to the main folder where several locations can be hosted, default is <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code></p></dd>
<dt>locationName</dt>
<dd><p><code>character</code> path to the location folder where all tasks of this plot are hosted, default is <code>"flightArea"</code></p></dd>
<dt>surveyArea</dt>
<dd><p>you may provide either the coordinates by
c(lon1,lat1,lon2,lat2,lon3,lat3,launchLat,launchLon) or
an OGR compatible file (prefunable to find an inherited method for function ‘makeAP’ for signature ‘"missing"’erably geoJSON or KML) with
at least 4 coordinates that describe the flight area.
The fourth coordinate is the launch position.
You will find further explanation under seealso.</p></dd>
<dt>flightAltitude</dt>
<dd><p>set the default flight altitude of the mission. It is
assumed that the UAV is started at the highest point of the surveyArea
otherwise you have to defined the position of launching.</p></dd>
<dt>launchAltitude</dt>
<dd><p>absolute altitude of launching position.
It will overwrite the DEM based estimation if any other value than -9999</p></dd>
<dt>followSurface</dt>
<dd><p><code>boolean</code>  TRUE performs an altitude correction
of the mission's flight altitude using additional DEM data.
If no DEM data is provided and <code>followSurface</code> is TRUE,
SRTM data will be downloaded and used.
Further explanation at seealso</p></dd>
<dt>followSurfaceRes</dt>
<dd><p>horizontal step distance for analyzing the DEM altitudes</p></dd>
<dt>demFn</dt>
<dd><p>filename of the corresponding DEM data file.</p></dd>
<dt>altFilter</dt>
<dd><p>if <code>followingTerrain</code> is equal <code>TRUE</code> then
<code>altFilter</code> is the threshold value of accepted altitude difference (m) between two way points.
If this value is not exceeded, the way point is omitted due to the fact that only 99 way points per mission are allowed.</p></dd>
<dt>horizonFilter</dt>
<dd><p>integer filter size of the rolling filter kernel for the flight track. Must be multiplied by the <code>followSurfaceRes</code> to get the spatial extent</p></dd>
<dt>flightPlanMode</dt>
<dd><p>type of flight plan. Available are: <code>"waypoints"</code>,
<code>"track"</code>, <code>"manual"</code>.</p></dd>
<dt>useMP</dt>
<dd><p>default is FALSE switches to use a missionplanner/Qgroundcontrolplanner survey as planning base</p></dd>
<dt>presetFlightTask</dt>
<dd><p>(DJI only) strongly recommended to use "remote"
<br>
Options are:
<code>"simple_ortho"</code> takes one picture/way point,
<code>"multi_ortho"</code> takes 4 picture at a waunable to find an inherited method for function ‘makeAP’ for signature ‘"missing"’unable to find an inherited method for function ‘makeAP’ for signature ‘"missing"’ypoint, two vertically down and two in forward and backward viewing direction and an Angele of -60deg,
<code>"simple_pano"</code> takes a 360 deg panorama picture and
<code>"remote"</code> which assumes that the camera is controlled by the remote control (RC)</p></dd>
<dt>overlap</dt>
<dd><p>overlapping of the pictures in percent (1.0 = 100)</p></dd>
<dt>maxSpeed</dt>
<dd><p>cruising speed</p></dd>
<dt>maxFlightTime</dt>
<dd><p>user defined estimation of the lipo lifetime (20 min default)</p></dd>
<dt>picRate</dt>
<dd><p>fastest stable interval (s) for shooting pictures</p></dd>
<dt>windCondition</dt>
<dd><p>1= calm 2= light air 1-5km/h, 3= light breeze 6-11km/h, 4=gentle breeze 12-19km/h 5= moderate breeze 20-28km/h</p></dd>
<dt>uavType</dt>
<dd><p>type of uav. currently "dji_csv" and "solo" are supported</p></dd>
<dt>cameraType</dt>
<dd><p>depending on uav system for dji the dji4k is default for solo you can choose GP3_7MP GP3_11MP and MAPIR2</p></dd>
<dt>cmd</dt>
<dd><p>mavlink command</p></dd>
<dt>uavViewDir</dt>
<dd><p>dview direction of uav</p></dd>
<dt>djiBasic</dt>
<dd><p>c(0,0,0,-90)
<br> curvesize (DJI only) controls the curve angle of the uav passing way points.
By default it is set to (<code>= 0.0</code>).
<br> rotationdir (DJI only) camera control parameter set the UAV basic turn direction to right (0) or left (1)
<br> gimbalmode (DJI only) camera control parameter
<code>0</code> deactivates the gimbal control
<code>1</code> activates the gimbal for focusing POIs
<code>2</code> activates the gimbal for focus and interpolate a field of view in an angel of <code>gimbalpitchangle</code>
<br> gimbalpitchangle (DJI only) vertical angle of camera  <code>+30 deg..-90 deg</code>
<br> actiontype (DJI only) individual actionype settings of the camera c(1,1,...)
<br> actionparam (DJI only) corresponding parameter for the above individual actiontype c(0,0,...)
<code>uavViewDir</code> viewing direction of camera default is <code>0</code></p></dd>
<dt>dA</dt>
<dd><p>if TRUE the real extent of the used DEM is returned helpful for low altitudes flight planning</p></dd>
<dt>heatMap</dt>
<dd><p>switch for calculating the overlapping factor on a raster map</p></dd>
<dt>picFootprint</dt>
<dd><p>switch for calculating the footprint at all way points</p></dd>
<dt>rcRange</dt>
<dd><p>range of estimated range of remote control</p></dd>
<dt>copy</dt>
<dd><p>copy switch</p></dd>
<dt>runDir</dt>
<dd><p><code>character</code> runtime folder</p></dd>
<dt>gdalLink</dt>
<dd><p>link to GDAL binaries</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>makeAP (make aerial plan) creates either intermediate flight control files for the
DJI phantom x UAVs or ready to upload control files for the 3DR Solo/PixHawk flightcontroller. The
DJI control files are designed for using with the proprietary litchi flight
control app exchange format, while the 3DR Solo/PixHawk flightcontroller files are using the MAVLINK
common message set, that is used by the PixHawk flight controller family.
Both are implemented very rudimentarily.<br><br> DJI:<br> The reason using DJI
is their absolute straightforward usage. Everybody can fly with a DJI but
the price is a more or less closed system at least in the low budget segement. There are workarounds like the litchi app that provides
additionally to a cloud based mission planner an offline/standalone
interface to upload a CSV formated way point file for autonomous flights to
the Phantom.<br><br> PixHawk flightcontroller/3DR Solo:<br> The open uav community is focused
on the PixHawk autopilot unit and the Mission Planner software. It is well
documented and several APIs are provided. Nevertheless a high resolution
terrain following flight planning tool for  autonomous obstacle avoiding flight missions
is not available. <code>makeAP</code> creates a straightforward version of MAV format flight control
rules that are ready to be uploaded directly on the Pixhawk controller using the <code>solo_upload</code> function.<br><br></p>
    </div>
    <div id="warning">
    <h2>Warning</h2>
    <p>Take care! There are still a lot of construction zones
around. This script is far beyond to be in a mature state. Please control
and backup all controls again while planning and performing autonomous
flight plans and missions. You will have a lot of chances to make a small
mistake what may yield in a damage of your UAV or even worse in involving
people, animals or non-cash assets. Check your risk, use parachute systems
and even if it is running like a charm, keep alert!</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>The underlying concept, a tutorial and a field guide can be found in the package vignettes. See <code>browseVignettes("uavRmp")</code> or <code>vignette(package = "uavRmp")</code> or
at <a href="https://gisma.github.io/uavRmp/articles/uavRmp_1.html" class="external-link">Github uavRmp manual</a>).</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># Depending on the arguments, the following spatial data sets can be returned:</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># lp      the planned launching position of the UAV.</span></span>
<span class="r-in"><span class="co"># wp      waypoints inclusive all information</span></span>
<span class="r-in"><span class="co"># oDEM    the original (input) digital surface model (DSM)</span></span>
<span class="r-in"><span class="co"># rDEM    the resampled (used) DSM</span></span>
<span class="r-in"><span class="co"># fp      optimized footprints of the camera</span></span>
<span class="r-in"><span class="co"># fA      flight area with at least 2 overlaps</span></span>
<span class="r-in"><span class="co"># rcA     area covered by the RC according to the range and line of sight</span></span>
<span class="r-in"><span class="co"># hm      a heatmap abundance of pictures/pixel (VERY SLOW, only if heatMap = TRUE)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## for visualisation and vecDraw load mapview</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/mapview" class="external-link">mapview</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## (1) get example DEM data</span></span>
<span class="r-in"><span class="va">demFn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"mrbiko.tif"</span>, package <span class="op">=</span> <span class="st">"uavRmp"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">tutorial_flightArea</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"flightarea.kml"</span>, package <span class="op">=</span> <span class="st">"uavRmp"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## (2) simple flight, 100 meters above ground</span></span>
<span class="r-in"><span class="co">##     assuming a flat topography,</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">fp</span> <span class="op">&lt;-</span> <span class="fu">makeAP</span><span class="op">(</span>surveyArea <span class="op">=</span> <span class="va">tutorial_flightArea</span>,</span>
<span class="r-in">              demFn <span class="op">=</span> <span class="va">demFn</span><span class="op">)</span></span>
<span class="r-in">              </span>
<span class="r-in"><span class="co">## (3) typical real case scenario (1)</span></span>
<span class="r-in"><span class="co">##     A flight altitudes BELOW 50 m is ambitious and risky</span></span>
<span class="r-in"><span class="co">##     You have to use a high quality high resulution DSM</span></span>
<span class="r-in"><span class="co">##     (here simulated with a standard DEM)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## (4) typical real case scenario (2)</span></span>
<span class="r-in"><span class="co">##     A flight altitudes BELOW 50 m is ambitious and risky</span></span>
<span class="r-in"><span class="co">##     You have to use a high quality high resulution DSM</span></span>
<span class="r-in"><span class="co">##     (here simulated with a standard DEM)</span></span>
<span class="r-in"><span class="co">##     This examples uses a flight planning from the QGroundcotrol Survey planning tool</span></span>
<span class="r-in"><span class="co">##     It also used the all calculations for camera flight speed etc.</span></span>
<span class="r-in"><span class="co">##     NOTE EXPERIMENTAL </span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">demFn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"mrbiko.tif"</span>, package <span class="op">=</span> <span class="st">"uavRmp"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">tutorial_flightArea</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"qgc_survey.plan"</span>, package <span class="op">=</span> <span class="st">"uavRmp"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">fp</span> <span class="op">&lt;-</span> <span class="fu">makeAP</span><span class="op">(</span>surveyArea<span class="op">=</span><span class="va">tutorial_flightArea</span>,</span>
<span class="r-in">            useMP <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">            followSurface <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">            demFn <span class="op">=</span> <span class="va">demFn</span>,</span>
<span class="r-in">            windCondition <span class="op">=</span> <span class="fl">1</span>,</span>
<span class="r-in">            uavType <span class="op">=</span> <span class="st">"pixhawk"</span>,</span>
<span class="r-in">            followSurfaceRes <span class="op">=</span> <span class="fl">5</span>,</span>
<span class="r-in">             altFilter <span class="op">=</span> <span class="fl">.75</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## (5) typical real case scenario (3)</span></span>
<span class="r-in"><span class="co">##     This examples uses a flight planning from the QGroundcotrol Survey planning tool</span></span>
<span class="r-in"><span class="co">##     It also used the all calculations for camera flight speed etc.</span></span>
<span class="r-in"><span class="co">##     The flight plan is modyfied by splitting up the task according to 99 Waypoints</span></span>
<span class="r-in"><span class="co">##     and flight time and saved as litchi csv format </span></span>
<span class="r-in"><span class="co">##     NOTE EXPERIMENTAL tested with DJI mavic mini 2</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">demFn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"mrbiko.tif"</span>, package <span class="op">=</span> <span class="st">"uavRmp"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">tutorial_flightArea</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"qgc_survey.plan"</span>, package <span class="op">=</span> <span class="st">"uavRmp"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">fp</span> <span class="op">&lt;-</span> <span class="fu">makeAP</span><span class="op">(</span>surveyArea<span class="op">=</span><span class="va">tutorial_flightArea</span>,</span>
<span class="r-in">            useMP <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">            demFn <span class="op">=</span> <span class="va">demFn</span>,</span>
<span class="r-in">            maxFlightTime <span class="op">=</span> <span class="fl">25</span>,</span>
<span class="r-in">            uavType <span class="op">=</span> <span class="st">"dji_csv"</span><span class="op">)</span></span>
<span class="r-in">            </span>
<span class="r-in"><span class="co">## call a simple shiny interface</span></span>
<span class="r-in"><span class="fu">runApp</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"shiny/plan2litchi/"</span>, <span class="st">"app.R"</span>, package <span class="op">=</span> <span class="st">"uavRmp"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">        </span>
<span class="r-in">        </span>
<span class="r-in"><span class="co">## (6) view results</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mapview/man/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">fp</span><span class="op">$</span><span class="va">wp</span>,cex<span class="op">=</span><span class="fl">4</span>, lwd<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span><span class="op">+</span></span>
<span class="r-in"><span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mapview/man/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">fp</span><span class="op">$</span><span class="va">lp</span>,color <span class="op">=</span> <span class="st">"red"</span>, lwd<span class="op">=</span><span class="fl">1</span>,cex<span class="op">=</span><span class="fl">4</span><span class="op">)</span><span class="op">+</span></span>
<span class="r-in"><span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mapview/man/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">fp</span><span class="op">$</span><span class="va">fA</span>,color<span class="op">=</span><span class="st">"blue"</span>, alpha.regions <span class="op">=</span> <span class="fl">0.1</span>,lwd<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span><span class="op">+</span></span>
<span class="r-in"><span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mapview/man/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">fp</span><span class="op">$</span><span class="va">oDEM</span>,col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">terrain.colors</a></span><span class="op">(</span><span class="fl">256</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## (6) digitize flight area using the small "onboard" tool vecDraw()</span></span>
<span class="r-in"><span class="co">##     save vectors as "kml" or "json" files</span></span>
<span class="r-in"><span class="co">##     provide full filename  +  extension!</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="vecDraw.html">vecDraw</a></span><span class="op">(</span>preset<span class="op">=</span><span class="st">"uav"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Chris Reudenbach.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

