# R for travis: see documentation at https://docs.travis-ci.com/user/languages/r
language: r		 

r:
- release
- oldrel

r_packages:
- covr
- roxygen2
- rmarkdown
- stringr
- sp
- raster
- htmlwidgets
- htmltools
- rgdal
- rgeos
- gdalUtils
- geosphere
- tools
- maptools
- log4r
- zoo
- data.table
- spatial.tools
- devtools
- sf
- roxygen2
- methods
- brew


sudo: required

dist: trusty



before_install:
  - sudo add-apt-repository ppa:ubuntugis/ubuntugis-unstable --yes
- sudo apt-get --yes --force-yes update -qq
# install tmap dependencies
- sudo apt-get install --yes libprotobuf-dev protobuf-compiler libv8-3.14-dev
# install tmap dependencies; for 16.04 libjq-dev this ppa is needed:
- sudo add-apt-repository -y ppa:opencpu/jq
- sudo apt-get --yes --force-yes update -qq
- sudo apt-get install libjq-dev
# units/udunits2 dependency:
- sudo apt-get install --yes libudunits2-dev
# sf dependencies:
- sudo apt-get install --yes libproj-dev libgeos-dev libgdal-dev


warnings_are_errors: false

after_success:
- Rscript -e 'library(covr); codecov()'

